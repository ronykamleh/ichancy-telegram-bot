# 🎰 بوت تليجرام ichancy.com

بوت تليجرام احترافي باللغة العربية لإدارة الأرصدة والمعاملات المالية مع دعم الكازينو والرهانات الرياضية.

## 🌟 المميزات الرئيسية

### 💰 إدارة الأرصدة
- **شحن الرصيد**: دعم متعدد لطرق الدفع (سيريتل كاش، البنك، USDT)
- **سحب الرصيد**: نظام سحب آمن مع تأكيد الإدمن
- **إهداء الرصيد**: إمكانية إرسال الأموال بين المستخدمين
- **أكواد الهدايا**: نظام كوبونات قابل للتخصيص

### 🎲 الألعاب والجاكبوت
- **الجاكبوت اليومي**: سحب يومي تلقائي للجاكبوت المتراكم
- **سجل الرهانات**: تتبع شامل لجميع الرهانات والأرباح
- **ألعاب الكازينو**: دعم جميع أنواع ألعاب ichancy.com
- **الرهانات الرياضية**: تغطية شاملة للأحداث الرياضية
- **برنامج VIP**: مستويات متدرجة مع مزايا حصرية

### 👥 نظام الإحالات
- **روابط إحالة فريدة**: لكل مستخدم رابط إحالة خاص
- **أرباح الإحالات**: نسبة ربح قابلة للتخصيص من كل إحالة
- **إحصائيات مفصلة**: تتبع دقيق لعدد الإحالات والأرباح

### 🛡️ الأمان والإدارة
- **لوحة تحكم الإدمن**: إدارة شاملة للمستخدمين والمعاملات
- **نظام الموافقات**: تأكيد يدوي أو تلقائي للمعاملات
- **سجلات مفصلة**: تتبع جميع العمليات والأنشطة
- **نسخ احتياطية**: نسخ احتياطية تلقائية يومية

## 🚀 التثبيت السريع

### 1. متطلبات النظام
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3 python3-pip git

# CentOS/RHEL
sudo yum install python3 python3-pip git
```

### 2. تحميل المشروع
```bash
git clone <repository-url>
cd telegram_bot_project
```

### 3. الإعداد التلقائي
```bash
# تشغيل الإعداد التفاعلي
python3 setup.py

# أو الإعداد اليدوي
cp .env.example .env
# قم بتحرير ملف .env وإضافة توكن البوت
```

### 4. تشغيل البوت
```bash
# تشغيل مباشر
python3 main.py

# أو باستخدام ملف التشغيل
./run.sh

# تشغيل في الخلفية
nohup python3 main.py &
```

## ⚙️ الإعدادات

### متغيرات البيئة الأساسية
```env
# إعدادات التليجرام
BOT_TOKEN=your_bot_token_here
ADMIN_IDS=123456789,987654321

# حدود المعاملات
MIN_DEPOSIT=10
MAX_DEPOSIT=10000
MIN_WITHDRAWAL=20
MAX_WITHDRAWAL=5000

# إعدادات الإحالات
REFERRAL_PERCENTAGE=10

# إعدادات الجاكبوت
MIN_JACKPOT=1000
JACKPOT_CONTRIBUTION_RATE=0.01
JACKPOT_DRAW_TIME=23:59
```

### إعدادات ichancy.com
```env
# ربط API مع ichancy.com
ICHANCY_API_KEY=your_api_key
ICHANCY_PARTNER_ID=your_partner_id
ICHANCY_WEBHOOK_SECRET=your_webhook_secret
```

## 🎮 الواجهة والأزرار

### القائمة الرئيسية
```
💌 سحب رصيد من البوت    💌 شحن رصيد في البوت
💰 نظام الإحالات         🎁 إهداء رصيد
🎁 كود هدية             📧 تواصل معنا
📩 رسالة للإدمن          📜 سجل العمليات
📜 سجل الرهانات         🎲 الجاكبوت
📌 الشروط والأحكام
```

### قوائم الألعاب
- **🎰 ألعاب الكازينو**: ماكينات القمار، ألعاب الطاولة، الكازينو المباشر
- **⚽ الرهانات الرياضية**: كرة القدم، كرة السلة، التنس، رياضات أخرى
- **🎲 الجاكبوت**: معلومات الجاكبوت، آخر الفائزين، إحصائيات

## 🔧 إدارة النظام

### أوامر الإدمن
```
/admin - لوحة تحكم الإدمن
/stats - إحصائيات النظام
/broadcast - إرسال رسالة جماعية
```

### لوحة تحكم الإدمن
- **💰 إدارة الأرصدة**: إضافة/خصم رصيد المستخدمين
- **📊 الإحصائيات**: تقارير شاملة عن النشاط
- **📜 المعاملات**: مراجعة وإدارة جميع المعاملات
- **🎁 أكواد الهدايا**: إنشاء وإدارة الكوبونات
- **👥 المستخدمين**: إدارة حسابات المستخدمين
- **📧 الرسائل**: نظام المراسلة مع المستخدمين

### المهام المجدولة
- **سحب الجاكبوت اليومي**: تلقائياً في الساعة 23:59
- **النسخ الاحتياطية**: يومياً في الساعة 2:00 صباحاً
- **تنظيف البيانات**: أسبوعياً لحذف السجلات القديمة

## 🗄️ قاعدة البيانات

### الجداول الرئيسية
- **users**: معلومات المستخدمين والأرصدة
- **transactions**: جميع المعاملات المالية
- **bets**: سجل الرهانات والألعاب
- **jackpot_entries**: مشاركات الجاكبوت
- **gifts**: الهدايا بين المستخدمين
- **gift_codes**: أكواد الهدايا
- **messages**: نظام المراسلة

### النسخ الاحتياطية
```bash
# نسخ احتياطي يدوي
cp data/telegram_bot.db backups/backup_$(date +%Y%m%d_%H%M%S).db

# استعادة من نسخة احتياطية
cp backups/backup_20240101_120000.db data/telegram_bot.db
```

## 🔗 التكامل مع ichancy.com

### ميزات التكامل
- **ربط الحسابات**: ربط حسابات التليجرام مع ichancy.com
- **مزامنة الرهانات**: تتبع تلقائي للرهانات والأرباح
- **مكافآت حصرية**: عروض خاصة لمستخدمي البوت
- **دعم فني متكامل**: نظام دعم موحد

### إعداد API
1. احصل على مفاتيح API من ichancy.com
2. أضف المفاتيح إلى ملف .env
3. فعّل الوضع التلقائي للمعاملات
4. اختبر التكامل مع حساب تجريبي

## 📱 النشر على الخادم

### استخدام systemd
```bash
# نسخ ملف الخدمة
sudo cp ichancy-bot.service /etc/systemd/system/

# تفعيل الخدمة
sudo systemctl enable ichancy-bot
sudo systemctl start ichancy-bot

# مراقبة الحالة
sudo systemctl status ichancy-bot
```

### استخدام Docker
```bash
# بناء الصورة
docker build -t ichancy-bot .

# تشغيل الحاوية
docker run -d --name ichancy-bot \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/logs:/app/logs \
  ichancy-bot
```

### استخدام PM2
```bash
# تثبيت PM2
npm install -g pm2

# تشغيل البوت
pm2 start main.py --name ichancy-bot --interpreter python3

# حفظ الإعدادات
pm2 save
pm2 startup
```

## 🔍 المراقبة والصيانة

### مراقبة اللوجز
```bash
# مراقبة مباشرة
tail -f logs/bot.log

# البحث في اللوجز
grep "ERROR" logs/bot.log

# إحصائيات الاستخدام
grep "new user" logs/bot.log | wc -l
```

### الصيانة الدورية
```bash
# تنظيف اللوجز القديمة
find logs/ -name "*.log.*" -mtime +30 -delete

# تحسين قاعدة البيانات
sqlite3 data/telegram_bot.db "VACUUM;"

# فحص سلامة قاعدة البيانات
sqlite3 data/telegram_bot.db "PRAGMA integrity_check;"
```

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة
1. **البوت لا يرد**: تحقق من صحة التوكن والاتصال بالإنترنت
2. **خطأ في قاعدة البيانات**: تحقق من صلاحيات الملفات
3. **فشل المعاملات**: تحقق من إعدادات API
4. **مشاكل الذاكرة**: راقب استخدام الموارد

### أدوات التشخيص
```bash
# فحص حالة البوت
python3 -c "
import requests
response = requests.get('https://api.telegram.org/bot{TOKEN}/getMe')
print(response.json())
"

# اختبار قاعدة البيانات
python3 -c "
from database import DatabaseManager
db = DatabaseManager()
session = db.get_session()
print('Database connection: OK')
session.close()
"
```

## 📞 الدعم الفني

### معلومات التواصل
- **الموقع**: https://www.ichancy.com/
- **البريد الإلكتروني**: support@ichancy.com
- **التليجرام**: @ichancy_support
- **الهاتف**: +963912345678

### المساهمة في التطوير
1. Fork المشروع
2. إنشاء فرع جديد للميزة
3. Commit التغييرات
4. Push إلى الفرع
5. إنشاء Pull Request

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف LICENSE للتفاصيل.

## 🙏 شكر وتقدير

- فريق ichancy.com للدعم والتعاون
- مجتمع Python Telegram Bot
- جميع المساهمين في تطوير المشروع

---

**تم التطوير بواسطة فريق ichancy.com**  
**© 2024 جميع الحقوق محفوظة**

